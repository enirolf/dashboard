{"ast":null,"code":"import _classCallCheck from \"/home/florine/home-dashboard/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/florine/home-dashboard/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/florine/home-dashboard/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/florine/home-dashboard/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/florine/home-dashboard/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/florine/home-dashboard/client/src/components/widgets/Weather.js\";\nimport React, { Component } from 'react';\nimport { round } from 'mathjs';\nimport '../../css/Weather.css';\nimport '../../css/weather-icons.css';\nimport '../../css/weather-icons-wind.css';\n\nvar Weather =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Weather, _Component);\n\n  function Weather(props) {\n    var _this;\n\n    _classCallCheck(this, Weather);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Weather).call(this, props));\n    _this.state = {\n      temp: undefined,\n      wind_speed: undefined,\n      wind_deg: undefined,\n      id: undefined\n    };\n    return _this;\n  }\n\n  _createClass(Weather, [{\n    key: \"callAPI\",\n    value: function callAPI() {\n      var _this2 = this;\n\n      fetch(\"http://localhost:9000/getWeather?lat=\".concat(this.props.lat, \"&lon=\").concat(this.props.lon)).then(function (res) {\n        return res.json();\n      }).then(function (res) {\n        return _this2.setState({\n          temp: round(res.temp),\n          wind_speed: wind_to_beaufort(res.wind_speed),\n          wind_deg: res.wind_deg,\n          id: res.id\n        });\n      });\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      this.callAPI();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"Weather\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }, this.props.name), React.createElement(\"div\", {\n        className: \"left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"wi wi-day-sunny\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40\n        },\n        __self: this\n      }), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, this.state.temp)), React.createElement(\"div\", {\n        className: \"right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"wi wi-wind towards-\" + this.state.wind_deg + \"-deg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return Weather;\n}(Component);\n\nexport default Weather;\n/* Convert wind from m/s to beaufort. */\n\nfunction wind_to_beaufort(wind) {\n  if (wind >= 32.7) {\n    return 12;\n  } else if (wind >= 28.5) {\n    return 11;\n  } else if (wind >= 24.5) {\n    return 10;\n  } else if (wind >= 20.8) {\n    return 9;\n  } else if (wind >= 17.2) {\n    return 8;\n  } else if (wind >= 13.9) {\n    return 7;\n  } else if (wind >= 10.8) {\n    return 6;\n  } else if (wind >= 8.0) {\n    return 5;\n  } else if (wind >= 5.5) {\n    return 4;\n  } else if (wind >= 3.4) {\n    return 3;\n  } else if (wind >= 1.6) {\n    return 2;\n  } else if (wind >= 0.3) {\n    return 1;\n  }\n\n  return 0;\n}","map":{"version":3,"sources":["/home/florine/home-dashboard/client/src/components/widgets/Weather.js"],"names":["React","Component","round","Weather","props","state","temp","undefined","wind_speed","wind_deg","id","fetch","lat","lon","then","res","json","setState","wind_to_beaufort","callAPI","name","wind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { round } from 'mathjs'\nimport '../../css/Weather.css'\nimport '../../css/weather-icons.css'\nimport '../../css/weather-icons-wind.css'\n\nclass Weather extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n            temp: undefined,\n            wind_speed: undefined,\n            wind_deg: undefined,\n            id: undefined\n    };\n  }\n\n  callAPI() {\n    fetch(`http://localhost:9000/getWeather?lat=${this.props.lat}&lon=${this.props.lon}`)\n      .then(res => res.json())\n      .then(res => this.setState({\n        temp: round(res.temp),\n        wind_speed: wind_to_beaufort(res.wind_speed),\n        wind_deg: res.wind_deg,\n        id: res.id\n      }));\n  }\n\n  componentWillMount() {\n    this.callAPI();\n  }\n\n  render() {\n    return (\n      <div className=\"Weather\">\n        <div className=\"title\">\n          {this.props.name}\n        </div>\n        <div className=\"left\">\n          <i className=\"wi wi-day-sunny\"></i>\n          <p>{this.state.temp}</p>\n        </div>\n        <div className=\"right\">\n          <i className={\"wi wi-wind towards-\" + this.state.wind_deg + \"-deg\"}></i>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Weather;\n\n/* Convert wind from m/s to beaufort. */\nfunction wind_to_beaufort(wind) {\n  if (wind >= 32.7) {\n    return 12;\n  } else if (wind >= 28.5) {\n    return 11;\n  } else if (wind >= 24.5) {\n    return 10;\n  } else if (wind >= 20.8) {\n    return 9;\n  } else if (wind >= 17.2) {\n    return 8;\n  } else if (wind >= 13.9) {\n    return 7;\n  } else if (wind >= 10.8) {\n    return 6;\n  } else if (wind >= 8.0) {\n    return 5;\n  } else if (wind >= 5.5) {\n    return 4;\n  } else if (wind >= 3.4) {\n    return 3;\n  } else if (wind >= 1.6) {\n    return 2;\n  } else if (wind >= 0.3) {\n    return 1;\n  }\n\n  return 0;\n}\n"]},"metadata":{},"sourceType":"module"}